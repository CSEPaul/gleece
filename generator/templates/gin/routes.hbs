package {{{PackageName}}}

import (
	"github.com/gin-gonic/gin"
	"net/http"
{{#each Imports}}
	"{{{.}}}"
{{/each}}
)

func RegisterRoutes(engine *gin.Engine) {
{{#each Controllers}}
	// {{{Name}}}
	{{#each Routes}}
		engine.{{{HttpVerb}}}("{{{../RestMetadata.Path}}}{{{RestMetadata.Path}}}", func(ctx *gin.Context) {
			controller := {{../Name}}{}
			controller.SetRequest(ctx)
		{{#each FuncParams}}
			{{> RequestArgsParsingPartial}}
			result{{#equal ../ResponseInterface.Signature "ValueAndError"}}, err{{/equal}} := controller.{{{OperationId}}}({{#each FuncParams}}{{ToLowerCamel Name}}{{#unless @last}}, {{/unless}}{{/each}})
		})
			{{> RequestResponsePartial}}
		{{/each}}
	{{/each}}
{{/each}}
}